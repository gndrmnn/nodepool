{
  "comments": [
    {
      "key": {
        "uuid": "7a8ec9b2_b3dcea19",
        "filename": "nodepool/builder.py",
        "patchSetId": 4
      },
      "lineNbr": 114,
      "author": {
        "id": 1297
      },
      "writtenOn": "2016-09-13T19:54:57Z",
      "side": 1,
      "message": "Hmmm, what\u0027s this??\n\nCan this just be gotten from the znode itself?\n\n    \u003e\u003e\u003e from kazoo import client\n    \u003e\u003e\u003e \n    \u003e\u003e\u003e client \u003d client.KazooClient()\n    \u003e\u003e\u003e client.start()\n    \u003e\u003e\u003e \n    \u003e\u003e\u003e client.create(\"junk\", \"{}\")\n    u\u0027/junk\u0027\n    \u003e\u003e\u003e \n    \u003e\u003e\u003e data, stat \u003d client.get(\"junk\")\n    \u003e\u003e\u003e stat.ctime\n    1473796282975\n    \u003e\u003e\u003e stat.mtime\n    1473796312935",
      "revId": "4f63c3e2c86391e84f58ddd5291715532480fb6b",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7a8ec9b2_0ec62c67",
        "filename": "nodepool/builder.py",
        "patchSetId": 4
      },
      "lineNbr": 114,
      "author": {
        "id": 3099
      },
      "writtenOn": "2016-09-14T12:29:10Z",
      "side": 1,
      "message": "I suppose that is an option. The state_time comes directly from the spec that outlined the node data:\n\n  http://specs.openstack.org/openstack-infra/infra-specs/specs/nodepool-zookeeper-workers.html",
      "parentUuid": "7a8ec9b2_b3dcea19",
      "revId": "4f63c3e2c86391e84f58ddd5291715532480fb6b",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7a8ec9b2_b3114ab2",
        "filename": "nodepool/builder.py",
        "patchSetId": 4
      },
      "lineNbr": 208,
      "author": {
        "id": 1297
      },
      "writtenOn": "2016-09-13T19:56:39Z",
      "side": 1,
      "message": "Hmmm, this isn\u0027t supposed to be required (since the heartbeater runs in a different thread); where are u guys (gals) seeing the need to do this?",
      "revId": "4f63c3e2c86391e84f58ddd5291715532480fb6b",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7a8ec9b2_4eee7423",
        "filename": "nodepool/builder.py",
        "patchSetId": 4
      },
      "lineNbr": 208,
      "author": {
        "id": 3099
      },
      "writtenOn": "2016-09-14T12:29:10Z",
      "side": 1,
      "message": "Oh really? I did not see anywhere in the kazoo docs that a heartbeat takes place. I was going on the ZK docs that says a session will timeout without connection activity. Can you point me to the kazoo code that does the heartbeat?",
      "parentUuid": "7a8ec9b2_b3114ab2",
      "revId": "4f63c3e2c86391e84f58ddd5291715532480fb6b",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7a8ec9b2_400d478f",
        "filename": "nodepool/builder.py",
        "patchSetId": 4
      },
      "lineNbr": 208,
      "author": {
        "id": 3099
      },
      "writtenOn": "2016-09-14T18:07:26Z",
      "side": 1,
      "message": "This bit is removed in review https://review.openstack.org/370350",
      "parentUuid": "7a8ec9b2_4eee7423",
      "revId": "4f63c3e2c86391e84f58ddd5291715532480fb6b",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7a8ec9b2_b35f8a74",
        "filename": "nodepool/zk.py",
        "patchSetId": 4
      },
      "lineNbr": 512,
      "author": {
        "id": 1297
      },
      "writtenOn": "2016-09-13T19:57:44Z",
      "side": 1,
      "message": "IMHO Just delete and catch the error not existing? Better to ask for forgiveness than permission in zookeeper also ;)",
      "revId": "4f63c3e2c86391e84f58ddd5291715532480fb6b",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7a8ec9b2_6e35f044",
        "filename": "nodepool/zk.py",
        "patchSetId": 4
      },
      "lineNbr": 512,
      "author": {
        "id": 3099
      },
      "writtenOn": "2016-09-14T12:29:10Z",
      "side": 1,
      "message": "That\u0027s actually a good idea. I\u0027ll consider that an optimization and do that in a separate review since this has two +2\u0027s already.",
      "parentUuid": "7a8ec9b2_b35f8a74",
      "revId": "4f63c3e2c86391e84f58ddd5291715532480fb6b",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    }
  ]
}