{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "77785eb3_3ad23867",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 22,
      "author": {
        "id": 1
      },
      "writtenOn": "2024-07-30T13:47:24Z",
      "side": 1,
      "message": "This code doesn\u0027t know anything about the fleet api; so you should add the None check in addition to the existing cores check.",
      "revId": "6101d2e724ccef5acf7d4d4662436d9ad6a59567",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2a59d357_c8e6b2b2",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 22,
      "author": {
        "id": 33134
      },
      "writtenOn": "2024-07-30T13:55:13Z",
      "side": 1,
      "message": "I mentioned the fleet api is to try to explain why we do not need to check `cores` here. What I really want to explain is as long as the node.resources is not None, it should be a valid value to return, no matter it is fleet API or not. \nAdding a `cores` check do no harm but seems not necessary?",
      "parentUuid": "77785eb3_3ad23867",
      "revId": "6101d2e724ccef5acf7d4d4662436d9ad6a59567",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e6001c36_3e5d4473",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 22,
      "author": {
        "id": 1
      },
      "writtenOn": "2024-07-30T16:09:53Z",
      "side": 1,
      "message": "I believe we originally added the cores check because in the fleet api, we:\n1) Send the create fleet api call\n2) Set node.resources to QuotaInformation(instances\u003d1)\n3) Receive the create fleet api response\n4) Set node.resources to QuotaInformation(instances\u003d1, cores\u003dX)\n\nSo this was originally designed to only trigger once step #4 happened.  However, I think I agree with you that it should be safe to run any time we have a non-null node.resources, so I think this change is okay as written.",
      "parentUuid": "77785eb3_3ad23867",
      "revId": "6101d2e724ccef5acf7d4d4662436d9ad6a59567",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "9de49fc3_bf7c3236",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 33134
      },
      "writtenOn": "2024-07-29T10:51:43Z",
      "side": 1,
      "message": "recheck",
      "revId": "6101d2e724ccef5acf7d4d4662436d9ad6a59567",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f1879b30_8695928e",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 33134
      },
      "writtenOn": "2024-07-29T14:06:29Z",
      "side": 1,
      "message": "recheck",
      "revId": "6101d2e724ccef5acf7d4d4662436d9ad6a59567",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543"
    }
  ]
}