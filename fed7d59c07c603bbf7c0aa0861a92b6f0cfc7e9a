{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "4fce2e07_feb0c51d",
        "filename": "nodepool/cmd/nodepoolcmd.py",
        "patchSetId": 4
      },
      "lineNbr": 359,
      "author": {
        "id": 1
      },
      "writtenOn": "2022-08-23T21:30:21Z",
      "side": 1,
      "message": "Instead of calling the command \"disable\" why not call it \"hold\"?",
      "revId": "fed7d59c07c603bbf7c0aa0861a92b6f0cfc7e9a",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7c6f6671_a89a2a74",
        "filename": "nodepool/cmd/nodepoolcmd.py",
        "patchSetId": 4
      },
      "lineNbr": 363,
      "author": {
        "id": 4146
      },
      "writtenOn": "2022-08-23T21:21:09Z",
      "side": 1,
      "message": "It might be a good idea to only allow a transition from the HOLD state to the READY state to avoid accidentally allowing a node to be reused while another job is still using the node.\n\nThis may not be sufficient though as we can disable a node and set it to HOLD before a job compeletes as well. It is more difficult to enforce the state change to HOLD though as you would race the next job starting if you want to only allow READY -\u003e HOLD.\n\nIt might also be a good idea to to restrict this to static nodes or require a --force type flag to apply these state changes to ephemeral nodes. This way it is more difficult to accidentally perform a state change on the wrong sort of node.",
      "revId": "fed7d59c07c603bbf7c0aa0861a92b6f0cfc7e9a",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ddb266c3_cdbf2bc2",
        "filename": "nodepool/cmd/nodepoolcmd.py",
        "patchSetId": 4
      },
      "lineNbr": 363,
      "author": {
        "id": 1
      },
      "writtenOn": "2022-08-23T21:30:21Z",
      "side": 1,
      "message": "We should actually just delete the node and let the driver handle processing it.  In the case of the static driver, the node will be re-registered.\n\nThis means you can drop the \"enable\" command entirely and use \"delete\" in your workflow.",
      "revId": "fed7d59c07c603bbf7c0aa0861a92b6f0cfc7e9a",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543"
    }
  ]
}