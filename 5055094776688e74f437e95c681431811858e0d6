{
  "comments": [
    {
      "key": {
        "uuid": "AAAAWH//AhQ\u003d",
        "filename": "doc/source/configuration.rst",
        "patchSetId": 1
      },
      "lineNbr": 117,
      "author": {
        "id": 4146
      },
      "writtenOn": "2014-03-21T00:07:26Z",
      "side": 1,
      "message": "We should add a docs job to this repo. I don\u0027t know if that tab will be rendered funny compared to the lines above it.",
      "revId": "5055094776688e74f437e95c681431811858e0d6",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAAWH//AZQ\u003d",
        "filename": "doc/source/configuration.rst",
        "patchSetId": 1
      },
      "lineNbr": 117,
      "author": {
        "id": 1
      },
      "writtenOn": "2014-03-21T00:18:38Z",
      "side": 1,
      "message": "Will fix.",
      "parentUuid": "AAAAWH//AhQ\u003d",
      "revId": "5055094776688e74f437e95c681431811858e0d6",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAAWH//Af0\u003d",
        "filename": "nodepool/allocation.py",
        "patchSetId": 1
      },
      "lineNbr": 117,
      "author": {
        "id": 4146
      },
      "writtenOn": "2014-03-21T00:07:26Z",
      "side": 1,
      "message": "Because we get the sub requests based on provider I think we may end up undercalculating the available number in AllocationSubRequest below if we ask for an image here with no subnodes that has a different image with subnodes.",
      "revId": "5055094776688e74f437e95c681431811858e0d6",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAAWH//AZs\u003d",
        "filename": "nodepool/allocation.py",
        "patchSetId": 1
      },
      "lineNbr": 117,
      "author": {
        "id": 1
      },
      "writtenOn": "2014-03-21T00:18:38Z",
      "side": 1,
      "message": "Yep.  I\u0027m not sure we can do much better than documenting that subnodes should be equal across providers in the config for now.  At least, not without some moderate refactoring of the config.",
      "parentUuid": "AAAAWH//Af0\u003d",
      "revId": "5055094776688e74f437e95c681431811858e0d6",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAAWH//AUk\u003d",
        "filename": "nodepool/allocation.py",
        "patchSetId": 1
      },
      "lineNbr": 117,
      "author": {
        "id": 4146
      },
      "writtenOn": "2014-03-21T00:40:28Z",
      "side": 1,
      "message": "I am not sure I understand the config problem completely. This code isn\u0027t problematic because the same image shows up across all providers. It is problematic because a single provider can provide multiple images. Not all of the images belonging to one provider may have the same subnode count.\n\nIf we update the arg list to this function to be addProvider(self, provider, target, image) then we can image.subnodes to AllocationSubRequest and get a different AllocationSubrequest using something like (provider, image) as the dict key.\n\nI haven\u0027t thought this all the way though but it seems like it would be viable.",
      "parentUuid": "AAAAWH//AZs\u003d",
      "revId": "5055094776688e74f437e95c681431811858e0d6",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAAWH//Aco\u003d",
        "filename": "nodepool/nodepool.py",
        "patchSetId": 1
      },
      "lineNbr": 1137,
      "author": {
        "id": 4146
      },
      "writtenOn": "2014-03-21T00:07:26Z",
      "side": 1,
      "message": "This is the other side of my SubNodeAllocationRequest concern. I think we need to pass the image into addProvider as well to get the correct subnode value for each image.",
      "revId": "5055094776688e74f437e95c681431811858e0d6",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAAWH//AZY\u003d",
        "filename": "nodepool/nodepool.py",
        "patchSetId": 1
      },
      "lineNbr": 1137,
      "author": {
        "id": 1
      },
      "writtenOn": "2014-03-21T00:18:38Z",
      "side": 1,
      "message": "We could, but I think the problem is actually in the config (that there are things that should be common among images of the same name from different providers).",
      "parentUuid": "AAAAWH//Aco\u003d",
      "revId": "5055094776688e74f437e95c681431811858e0d6",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    }
  ]
}