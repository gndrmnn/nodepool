script-dir: /etc/nodepool/scripts
elements-dir: /etc/nodepool/elements
images-dir: /opt/nodepool_dib
dburi: 'mysql://nodepool:<%= mysql_password %>@localhost/nodepool'

cron:
  cleanup: '*/1 * * * *'
  check: '*/15 * * * *'
  image-update: '14 14 * * *'

zmq-publishers:
  - tcp://jenkins01.openstack.org:8888

gearman-servers:
  - host: zuul.openstack.org

labels:
  - name: devstack-precise
    image: devstack-precise
    ready-script: configure_mirror.sh
    min-ready: 1
    providers:
      - name: bad-cloud

providers:
  - name: bad-cloud
    region-name: 'DFW'
    service-type: 'compute'
    service-name: 'cloudServersOpenStack'
    username: '<%= rackspace_username %>'
    password: '<%= rackspace_password %>'
    project-id: '<%= rackspace_project %>'
    boot-timeout: 120
    max-servers: 184
    rate: 0.001
    images:
      - name: devstack-precise
        base-image: 'Ubuntu 12.04 LTS (Precise Pangolin) (PVHVM)'
        min-ram: 8192
        name-filter: 'Performance'
        setup: prepare_node_devstack.sh
        username: jenkins
        private-key: /home/nodepool/.ssh/id_rsa

targets:
  - name: jenkins01
    jenkins:
      url: 'https://jenkins01.openstack.org/'
      user: '<%= jenkins_api_user %>'
      apikey: '<%= jenkins_api_key %>'
      credentials-id: '<%= jenkins_credentials_id %>'
