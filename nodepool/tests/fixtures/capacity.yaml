script-dir: .
dburi: 'mysql://nodepool@localhost/nodepool'

cron:
  check: '*/15 * * * *'
  cleanup: '*/1 * * * *'
  image-update: '14 2 * * *'

zmq-publishers:
  - tcp://localhost:8881

#gearman-servers:
#  - host: localhost

labels:
  - name: fake-precise
    image: fake-precise
    min-ready: 100
    providers:
     - name: fake-provider1
     - name: fake-provider2
  - name: fake-fedora
    image: fake-fedora
    min-ready: 5
    providers:
     - name: fake-provider1
     - name: fake-provider2
  - name: fake-centos
    image: fake-centos
    min-ready: 100
    providers:
     - name: fake-provider1
     - name: fake-provider2
  - name: fake-trusty
    image: fake-trusty
    min-ready: 100
    providers:
     - name: fake-provider1
     - name: fake-provider2

providers:
  - name: fake-provider1
    keypair: 'if-present-use-this-keypair'
    username: 'fake'
    password: 'fake'
    auth-url: 'fake'
    project-id: 'fake'
    max-servers: 5
    pool: 'fake'
    networks:
      - net-id: 'some-uuid'
    rate: 0.0001
    images:
      - name: fake-precise
        base-image: 'Fake Precise'
        min-ram: 8192
        setup: prepare_node_devstack.sh
      - name: fake-fedora
        base-image: 'Fake Fedora'
        min-ram: 8192
        setup: prepare_node_devstack.sh
      - name: fake-centos
        base-image: 'Fake CentOS'
        min-ram: 8192
        setup: prepare_node_devstack.sh
      - name: fake-trusty
        base-image: 'Fake Trusty'
        min-ram: 8192
        setup: prepare_node_devstack.sh

  - name: fake-provider2
    keypair: 'if-present-use-this-keypair'
    username: 'fake'
    password: 'fake'
    auth-url: 'fake'
    project-id: 'fake'
    max-servers: 5
    pool: 'fake'
    networks:
      - net-id: 'some-uuid'
    rate: 0.0001
    images:
      - name: fake-precise
        base-image: 'Fake Precise'
        min-ram: 8192
        setup: prepare_node_devstack.sh
      - name: fake-fedora
        base-image: 'Fake Fedora'
        min-ram: 8192
        setup: prepare_node_devstack.sh
      - name: fake-centos
        base-image: 'Fake CentOS'
        min-ram: 8192
        setup: prepare_node_devstack.sh
      - name: fake-trusty
        base-image: 'Fake Trusty'
        min-ram: 8192
        setup: prepare_node_devstack.sh

targets:
  - name: fake-target
    jenkins:
      url: https://jenkins.example.org/
      user: fake
      apikey: fake
