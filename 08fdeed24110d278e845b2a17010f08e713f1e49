{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "9e4eaa0a_83e558ab",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 13
      },
      "lineNbr": 0,
      "author": {
        "id": 1
      },
      "writtenOn": "2022-10-11T14:15:27Z",
      "side": 1,
      "message": "PS 13 is PS8 again, but rebased on current master (to fix a conflict).\n\nThis is the version of the change I\u0027m comfortable proposing.\n",
      "revId": "08fdeed24110d278e845b2a17010f08e713f1e49",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "edf3c88c_db478c84",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 13
      },
      "lineNbr": 0,
      "author": {
        "id": 35329
      },
      "writtenOn": "2022-10-14T07:56:07Z",
      "side": 1,
      "message": "regate",
      "revId": "08fdeed24110d278e845b2a17010f08e713f1e49",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a8e8fdf1_9c9f00f9",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 13
      },
      "lineNbr": 0,
      "author": {
        "id": 35329
      },
      "writtenOn": "2022-10-17T06:52:01Z",
      "side": 1,
      "message": "recheck",
      "revId": "08fdeed24110d278e845b2a17010f08e713f1e49",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "42e1eb79_be56695f",
        "filename": "nodepool/driver/static/provider.py",
        "patchSetId": 13
      },
      "lineNbr": 202,
      "author": {
        "id": 4146
      },
      "writtenOn": "2022-10-11T22:09:23Z",
      "side": 1,
      "message": "Do we need to set node.slot to idx here? In particular entries to unslotted_nodes may have node.slot set to None accordingto the else at line 179. Additionally, if a slot shifts somehow we\u0027d need to reconcile that?",
      "revId": "08fdeed24110d278e845b2a17010f08e713f1e49",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "73b05efa_0f53ab3a",
        "filename": "nodepool/driver/static/provider.py",
        "patchSetId": 13
      },
      "lineNbr": 202,
      "author": {
        "id": 1
      },
      "writtenOn": "2022-10-11T22:20:07Z",
      "side": 1,
      "message": "That is an option, but I don\u0027t think we need to do that.  Node.slot\u003d\u003dNone should only happen in the case where we upgrade, so the actual slot number of the node isn\u0027t that important.  The next time the node is (re)created, it will get a slot number assigned to it, and things will be good from there.  Actually assigning the slot here would be fairly complex because we would need to lock the node, and it may already be locked.  Instead, the approach is to just have it occupy any slot in memory until it\u0027s gone.  From the consumer\u0027s (zuul\u0027s) pov, it wasn\u0027t created with a slot, so it will just be None.",
      "parentUuid": "42e1eb79_be56695f",
      "revId": "08fdeed24110d278e845b2a17010f08e713f1e49",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bc91ed39_369410c6",
        "filename": "nodepool/driver/static/provider.py",
        "patchSetId": 13
      },
      "lineNbr": 208,
      "author": {
        "id": 4146
      },
      "writtenOn": "2022-10-11T22:09:23Z",
      "side": 1,
      "message": "See above though I think it would be node.slot \u003d len(node_slots[nodeTuple(node)]) - 1",
      "revId": "08fdeed24110d278e845b2a17010f08e713f1e49",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543"
    }
  ]
}