{
  "comments": [
    {
      "key": {
        "uuid": "3f79a3b5_21037e0f",
        "filename": "nodepool/driver/openstack/handler.py",
        "patchSetId": 2
      },
      "lineNbr": 241,
      "author": {
        "id": 3099
      },
      "writtenOn": "2018-08-09T18:01:47Z",
      "side": 1,
      "message": "You shouldn\u0027t copy self.node. We need a *new* node so that it will get a new node ID. The call to storeNode() with a new node without a node ID should assign a new ID to it.",
      "range": {
        "startLine": 240,
        "startChar": 20,
        "endLine": 241,
        "endChar": 69
      },
      "revId": "25e0864b8862fded6a785698fe9048a61546b64e",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3f79a3b5_d38b6e1c",
        "filename": "nodepool/driver/openstack/handler.py",
        "patchSetId": 2
      },
      "lineNbr": 241,
      "author": {
        "id": 7186
      },
      "writtenOn": "2018-08-10T08:59:13Z",
      "side": 1,
      "message": "fromDict seems to assign a new node ID if called without the o_id argument: http://git.openstack.org/cgit/openstack-infra/nodepool/tree/nodepool/zk.py#n601\n\nBut I might have misread something, please correct me if I\u0027m wrong.\nHowever it\u0027s a static method so I should fix zk.Node() into zk.Node",
      "parentUuid": "3f79a3b5_21037e0f",
      "range": {
        "startLine": 240,
        "startChar": 20,
        "endLine": 241,
        "endChar": 69
      },
      "revId": "25e0864b8862fded6a785698fe9048a61546b64e",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3f79a3b5_13f1e695",
        "filename": "nodepool/driver/openstack/handler.py",
        "patchSetId": 2
      },
      "lineNbr": 241,
      "author": {
        "id": 16068
      },
      "writtenOn": "2018-08-10T09:04:36Z",
      "side": 1,
      "message": "Right, this will assign a new node id. But I think we don\u0027t want all information there (at least not allocated_to because that might have a side effect on the algorithm) but just the info that is needed to delete the node.",
      "parentUuid": "3f79a3b5_d38b6e1c",
      "range": {
        "startLine": 240,
        "startChar": 20,
        "endLine": 241,
        "endChar": 69
      },
      "revId": "25e0864b8862fded6a785698fe9048a61546b64e",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3f79a3b5_3f52a0df",
        "filename": "nodepool/driver/openstack/handler.py",
        "patchSetId": 2
      },
      "lineNbr": 241,
      "author": {
        "id": 3099
      },
      "writtenOn": "2018-08-10T14:33:15Z",
      "side": 1,
      "message": "Right, we only want the info needed to delete properly. Other attributes can have side effects. So copying self.node is the wrong thing to do.",
      "parentUuid": "3f79a3b5_13f1e695",
      "range": {
        "startLine": 240,
        "startChar": 20,
        "endLine": 241,
        "endChar": 69
      },
      "revId": "25e0864b8862fded6a785698fe9048a61546b64e",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    }
  ]
}